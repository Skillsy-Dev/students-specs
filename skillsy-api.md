
# Skillsy - API Документация

[1. Авторизация сервисного пользователя](#title1)  
[2. Выход из системы](#title2)   
[3. Регистрация пользователя для прохождения тестирования](#title3)  
[4. Получение списка вопросов с шестью вариантами ответов](#title4)  
[5. Получение списка вопросов с вариантами ответов Скорее согласен/Скорее не согласен](#title5)  
[6. Регистрация ответа на вопросы](#title6)  
[7. Завершение тестирования](#title7)   
[8. Список пользователей, прошедших тестирование](#title8)  
[9. Просмотр результатов тестирования](#title9)  
[10. Командный отчет](#title10)  
[11. B2C to B2C мэтчинг (один к одному)](#title11)     
[12. B2C to B2C мэтчинг (один ко многим)](#title12)   
[13. B2C to B2B мэтчинг](#title13)      


### <a id="title1">1. Авторизация сервисного пользователя</a>
**Метод:** `POST /api/auth/token/login`

Пользователь предварительно добавлен в базу сервиса

Token-based HTTP Authentication

**Ожидаемые параметры JSON:**
```json
{
    "email": "",
    "password": ""
}
```

**Пример ответа JSON (200 OK):**
```json
{
    "auth_token": "{token}"
}
```

---

### <a id="title2">2. Выход из системы</a>
**Метод:** `POST /api/auth/token/logout`

**Ожидаемые параметры при запросе:**
```
headers: {
    "Authorization": "Token ${token}"
}
```

---

### <a id="title3">3. Регистрация пользователя для прохождения тестирования</a>
**Метод:** `POST /api/user`

**Ожидаемые параметры при запросе:**
```
headers: {
    "Authorization": "Token ${token}"
}
```

**Ожидаемые параметры JSON:**
```json
{
    "user_id" : "{id}",
    "age" : 22
}
```

**Пример ответа JSON (200 OK):**
```json
{
    "user_id": "213",
    "age": 22,
    "date_of_creation": "2025-03-19T19:08:25.921937+01:00"
}
```

---

### <a id="title4">4. Получение списка вопросов с шестью вариантами ответов</a>
**Метод:** `GET /api/questions`

**Ожидаемые параметры при запросе:**
```
headers: {
    "Authorization": "Token ${token}"
}
```

**Пример ответа JSON (200 OK):**
```json
[
  {
    "id": 1,
    "text": "Вы пришли на мероприятие, которое проводит известный эксперт в вашей области. В зале три ряда мест. Вы – один из первых и все места свободны. Какое место вы выберете для себя?",
    "answers": {
         "1": "Первый вариант ответа",
         "2": "Второй вариант ответа",
         "3": "Третий вариант ответа",
         "4": "Четвертый вариант ответа",
         "5": "Пятый вариант ответа",
         "6": "Шестой вариант ответа"
    }
  },
  {
    "id": 2,
    "text": "Какое суждение вам ближе, когда вы видите на улице бездомного человека, который просит помочь ему деньгами или едой?",
    "answers": {
         "1": "Первый вариант ответа",
         "2": "Второй вариант ответа",
         "3": "Третий вариант ответа",
         "4": "Четвертый вариант ответа",
         "5": "Пятый вариант ответа",
         "6": "Шестой вариант ответа"
    }
  }
]
```

---

### <a id="title5">5. Получение списка вопросов с вариантами ответов Скорее согласен/Скорее не согласен</a>
**Метод:** `GET /api/second-questions`

**Ожидаемые параметры при запросе:**
```
headers: {
    "Authorization": "Token ${token}"
}
```

**Пример ответа JSON (200 OK):**
```json
[
  {
    "id": 20,
    "text": "Работать по ночам - нормально для меня."
  },
  {
    "id": 21,
    "text": "В споре я всегда встану на сторону слабого, даже если он не прав."
  },
]
```

---

### <a id="title6">6. Регистрация ответа на вопросы</a>
**Метод:** `POST /api/questions/{user_id}/{question_id}/answer`

**Ожидаемые параметры JSON:**
```json
{
    "answer": 3
}
```

**Пример ответа JSON (200 OK):**
```json
{
    "user_id": "77",
    "answer": 3,
    "date": "2024-09-17T16:22:28.282035+02:00"
}
```

---

### <a id="title7">7. Завершение тестирования</a>
**Метод:** `POST /api/user/test`

**Ожидаемые параметры при запросе:**
```
headers: {
    "Authorization": "Token ${token}"
}
```

**Ожидаемые параметры JSON:**
```json
{
    "user_id": "{id}"
}
```

**Пример ответа JSON (200 OK):**
```json
{
    "message": "Test results are ready"
}
```

---

### <a id="title8">8. Список пользователей, прошедших тестирование</a>
**Метод:** `GET /api/users`

**Ожидаемые параметры при запросе:**
```
headers: {
    "Authorization": "Token ${token}"
}
```

**Опциональные параметры при запросе:**
```
GET /api/users/?page={page_number}&limit={records_per_page}
```

**Пример ответа JSON (200 OK):**
```json
{
    "total_count": 14,
    "next": "https://{skillsy_host}/api/users/?limit=2&page=2",
    "previous": null,
    "results": [
       {
           "user_id": "74",
           "age": 22,
           "date_of_completion": "2024-08-23T10:12:09.883762Z"
       },
       {
           "user_id": "75",
           "age": 21,
           "date_of_completion": "2024-08-13T08:59:14.816354Z"
       },
    ]
}
```

---

### <a id="title9">9. Просмотр результатов тестирования</a>
**Метод:** `POST /api/user/{user_id}/report`

**Ожидаемые параметры при запросе:**
```
headers: {
    "Authorization": "Token ${token}"
}
```

**Ожидаемые параметры JSON:**
```json
{
    "report_type": "{type}"
}
```

**Пример ответа JSON (200 OK):**
```json
{
  "user_id": "75",
  "report" : {
    "type" : "INDIVIDUAL"
    "description" : "Индивидуальный отчет" 

    "section": [{
       "type" : "WORK_RELATED",
       "description" : "Профессиональная сфера",
       "params" : [{
          "name": "Ключевые ценности",
          "description": "Ключевые ценности проявляются во всех сферах жизни человека и определяют его выбор и решения",
          "text": "\n<strong>Стремление к самореализации</strong>\nЭтот кандидат/сотрудник стремится к самореализации, изучает себя и свою индивидуальность и ищет пути для оптимального воплощения своих сильных качеств.\n"
          },
          {
          "name": "Командная роль",
          "description": "Лидер, эксперт или уверенный командный игрок? Командная роль вашего кандидата/сотрудника может отличаться от формальной роли, но важно понимать, к какой реализации в команде он стремится на самом деле",
          "text": "\n<strong>Лидер - Партнер</strong>\nВ команде этот кандидат/сотрудник стремится к лидерской позиции через синергию, коммуникацию и эффективное взаимодействие.\n"
          }
        ]
      }
   ]
 }
}
```

--- 

### <a id="title10">10. Командный отчет</a>
**Метод:** `POST /api/team-report`

**Ожидаемые параметры при запросе:**
```
headers: {
    "Authorization": "Token ${token}"
}
```

**Ожидаемые параметры JSON:**
```json
{
    "report_type": "{type}"
    "users" : [ "id1", "id2" ]
}
```

**Пример ответа JSON (200 OK):**
```json
{
  "report" : {
    "type" : "STARTUP"
    "description" : "Отчет для инвестора" 

    "section": [{
       "type" : "TEAM_BASIC",
       "description" : "Общая оценка команды",
       "params" : [{
          "name": "Ценностный профиль команды",
          "description": "Ценностный профиль команды",
          "text": "Описание ценностного профиля команды"
          },
          {
          "name": "Командное взаимодействие",
          "description": "Командное взаимодействие",
          "text": "Описание командного взаимодействия"
          }
        ]
      }
   ]
 }
}
```

--- 

## B2C to B2C мэтчинг

### <a id="title11">11. B2C to B2C мэтчинг (один к одному)</a>
**Метод:** `POST /api/match/b2c/one`

**Ожидаемые параметры при запросе:**
```
headers: {
    "Authorization": "Token ${token}"
}
```

**Ожидаемые параметры JSON:**
```json
{
    "match_type" : "{type}",
    "user_to_find_match" : "{id}"
    "user_to_be_matched" : "{id}"

}
```

**Пример ответа JSON (200 OK):**
```json
{
    "match_type" : "FRIENDSHIP",
    "user_id" : 45
    "result" : {
        "user_id" : 56,
        "match" : true
    }
}
```

---

### <a id="title12">12. B2C to B2C мэтчинг (один ко многим)</a>
**Метод:** `POST /api/match/b2c/many`

**Ожидаемые параметры при запросе:**
```
headers: {
    "Authorization": "Token ${token}"
}
```

**Ожидаемые параметры JSON:**
```json
{
    "match_type" : "{type}",
    "user_to_find_match" : "{id}"
}
```

**Пример ответа JSON (200 OK):**
```json
{
    "match_type" : "FRIENDSHIP",
    "user_id" : 45
    "result" : [
        {
          "user_id" : 56,
          "match" : true
        },
        {
          "user_id" : 56,
          "match" : false
        },
    ]
}
```

---

## B2C to B2B мэтчинг

### <a id="title13">13. B2C to B2B мэтчинг</a>
**Метод:** `POST /api/match/b2b`

**Ожидаемые параметры при запросе:**
```
headers: {
    "Authorization": "Token ${token}"
}
```

**Ожидаемые параметры JSON:**
```json
{
    "match_type" : "{type}",
    "user_to_find_match" : "{id}"
    "service_to_be_matched" : [ "id1", "id2", "id3" ]

}
```

**Пример ответа JSON (200 OK):**
```json
{
    "match_type" : "TRAINING",
    "user_id" : 45
    "result" : [
        {
          "service_id" : 56,
          "match" : true
        },
        {
          "service_id" : 56,
          "match" : false
        },
    ]
}
```

---
